import{w as s}from"./index.C7zb2tMt.js";import{z as i}from"./scheduler.DNWCPQjj.js";const m={text:"Text",color:{foreground:"primary-content",background:"base-100",border:"secondary"}},b={title:"Title",description:"Description",color:{foreground:"primary-content",background:"base-100",border:"success"}},v={text:"Icon",icon:"",color:{foreground:"base-300",background:"base-100",border:"primary"}},S={text:"List",items:Array.from([]),color:{foreground:"base-300",background:"base-100",border:"warning"}},n=s([]),w=s(void 0),r=s([]),D=s(void 0),N=s(void 0),h=e=>{switch(e){case"nodeText":return{...m};case"nodeIcon":return{...v};case"nodeList":return{...S};case"nodeTitle":return{...b}}},y=(e,t)=>{const o=h(e);o&&n.update(a=>{const c={id:`${Math.random()}`,type:e,position:t,data:o,origin:[.5,0]};return[...a,c]}),d()},E=e=>{n.update(t=>[...t.filter(a=>a.id!=e)]),d()},k=(e,t,o,a,c)=>{r.update(u=>{const f=u.filter(l=>!(l.source===e&&l.target===t)),p={id:`${Math.random()}`,type:c,source:e,target:t,sourceHandle:o,targetHandle:a,data:{width:3,color:"base-300"},style:"stroke-width: 2; stroke: oklch(var(--b3}))"};return d(),[...f,p]}),console.log(i(r))},x=e=>{r.update(t=>[...t.filter(a=>a.id!=e)]),d()},g=e=>{if(e==null){const t=localStorage.getItem("mapData");if(t){const o=JSON.parse(t);n.update(()=>JSON.parse(o.nodes)),r.update(()=>JSON.parse(o.edges))}}else n.update(()=>e.nodes),r.update(()=>e.edges);d()},I=()=>{console.log("Reset"),n.set([]),r.set([]),localStorage.removeItem("nodes"),localStorage.removeItem("edges"),d()},M=()=>{w.set(void 0),D.set(void 0),N.set(void 0)},J=()=>{g(void 0)},d=()=>{localStorage.setItem("mapData",JSON.stringify({nodes:JSON.stringify(i(n)),edges:JSON.stringify(i(r))}))},L={addNode:y,removeNode:E,addEdge:k,removeEdge:x,initialize:g,resetMap:I,resetSelection:M,load:J,save:d},z=s("editor"),_=s(!0),$=s(!1);export{L as M,w as a,D as b,N as c,_ as d,r as e,z as m,n,$ as s};
