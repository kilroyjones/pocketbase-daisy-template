import{w as s}from"./index.BO4ygKp1.js";import{o as i}from"./scheduler.C9YZsvm3.js";const m={text:"Text",color:{foreground:"base-content",background:"base-100",border:"secondary"}},v={title:"Title",description:"Description",color:{foreground:"base-content",background:"base-100",border:"success"}},S={text:"Icon",icon:"",color:{foreground:"base-300",background:"base-100",border:"primary"}},w={text:"List",items:Array.from([]),color:{foreground:"base-300",background:"base-100",border:"warning"}},n=s([]),g=s(void 0),r=s([]),D=s(void 0),N=s(void 0),h=e=>{switch(e){case"nodeText":return{...m};case"nodeIcon":return{...S};case"nodeList":return{...w};case"nodeTitle":return{...v}}},E=(e,t)=>{const o=h(e);o&&n.update(a=>{const c={id:`${Math.random()}`,type:e,position:t,data:o,origin:[.5,0]};return g.set(c),[...a,c]}),d()},k=e=>{n.update(t=>[...t.filter(a=>a.id!=e)]),d()},x=(e,t,o,a,c)=>{r.update(f=>{const p=f.filter(l=>!(l.source===e&&l.target===t)),b={id:`${Math.random()}`,type:c,source:e,target:t,sourceHandle:o,targetHandle:a,data:{width:3,color:"base-300"},style:"stroke-width: 2; stroke: oklch(var(--b3}))"};return d(),[...p,b]}),console.log(i(r))},I=e=>{r.update(t=>[...t.filter(a=>a.id!=e)]),d()},u=e=>{if(e==null){const t=localStorage.getItem("mapData");if(t){const o=JSON.parse(t);n.update(()=>JSON.parse(o.nodes)),r.update(()=>JSON.parse(o.edges))}}else n.update(()=>e.nodes),r.update(()=>e.edges);d()},M=()=>{console.log("Reset"),n.set([]),r.set([]),localStorage.removeItem("nodes"),localStorage.removeItem("edges"),d()},y=()=>{g.set(void 0),D.set(void 0),N.set(void 0)},J=()=>{u(void 0)},d=()=>{localStorage.setItem("mapData",JSON.stringify({nodes:JSON.stringify(i(n)),edges:JSON.stringify(i(r))}))},L={addNode:E,removeNode:k,addEdge:x,removeEdge:I,initialize:u,resetMap:M,resetSelection:y,load:J,save:d},_=s("editor"),$=s(!0),z=s(!1);export{L as M,g as a,D as b,N as c,$ as d,r as e,_ as m,n,z as s};
