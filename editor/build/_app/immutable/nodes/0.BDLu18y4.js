import{s as q,Q as ee,R as te,d as g,g as d,v as o,j as B,k as i,n as L,e as m,b as j,t as ae,c as _,h as N,f as oe,S as J,T as R,r as xe,m as F,U as P,x as Ie,V as De,W as je,X as Ne,Y as Ve,Z as Oe,_ as Ue,p as $e}from"../chunks/scheduler.C9YZsvm3.js";import{S as Q,i as W,b as X,d as Y,m as Z,a as V,t as S,e as G,c as Ee,g as Ce}from"../chunks/index.De8AYsVu.js";import{g as ye}from"../chunks/entry.PEnud8-N.js";import{e as ue,n as de,m as se,M as fe,s as pe,a as Be}from"../chunks/ui.store.CHQ-gXx_.js";const Se=!1,Re=!0,nt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Re,ssr:Se},Symbol.toStringTag,{value:"Module"}));function Me(a){let e,s,t;return{c(){e=ee("svg"),s=ee("path"),t=ee("path"),this.h()},l(r){e=te(r,"svg",{class:!0,fill:!0,height:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,viewBox:!0,width:!0,xmlns:!0});var n=g(e);s=te(n,"path",{d:!0}),g(s).forEach(d),t=te(n,"path",{d:!0}),g(t).forEach(d),n.forEach(d),this.h()},h(){o(s,"d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"),o(t,"d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"),o(e,"class","feather feather-edit"),o(e,"fill","none"),o(e,"height","24"),o(e,"stroke","currentColor"),o(e,"stroke-linecap","round"),o(e,"stroke-linejoin","round"),o(e,"stroke-width","2"),o(e,"viewBox","0 0 24 24"),o(e,"width","24"),o(e,"xmlns","http://www.w3.org/2000/svg")},m(r,n){B(r,e,n),i(e,s),i(e,t)},p:L,i:L,o:L,d(r){r&&d(e)}}}class Te extends Q{constructor(e){super(),W(this,e,null,Me,q,{})}}function Le(a){let e,s,t,r,n,l,f,v,h,c,w="Switch to viewer",E,$,b,u,y="Demo",C,x,p,k="Import",T,O,I,K="Export",A,M,U,he="Reset",re,ce,me;return f=new Te({}),{c(){e=m("input"),s=j(),t=m("div"),r=m("div"),n=m("div"),l=m("a"),X(f.$$.fragment),v=ae("Roadmap Editor"),h=j(),c=m("button"),c.textContent=w,E=j(),$=m("div"),b=m("div"),u=m("button"),u.textContent=y,C=j(),x=m("div"),p=m("button"),p.textContent=k,T=j(),O=m("div"),I=m("button"),I.textContent=K,A=j(),M=m("div"),U=m("button"),U.textContent=he,this.h()},l(D){e=_(D,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),s=N(D),t=_(D,"DIV",{class:!0});var H=g(t);r=_(H,"DIV",{class:!0});var ne=g(r);n=_(ne,"DIV",{class:!0});var le=g(n);l=_(le,"A",{href:!0,class:!0});var ie=g(l);Y(f.$$.fragment,ie),v=oe(ie,"Roadmap Editor"),ie.forEach(d),h=N(le),c=_(le,"BUTTON",{class:!0,"data-svelte-h":!0}),J(c)!=="svelte-zszjcg"&&(c.textContent=w),le.forEach(d),E=N(ne),$=_(ne,"DIV",{class:!0});var z=g($);b=_(z,"DIV",{class:!0});var _e=g(b);u=_(_e,"BUTTON",{class:!0,"data-svelte-h":!0}),J(u)!=="svelte-1xqjocr"&&(u.textContent=y),_e.forEach(d),C=N(z),x=_(z,"DIV",{class:!0});var ve=g(x);p=_(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),J(p)!=="svelte-894d6b"&&(p.textContent=k),ve.forEach(d),T=N(z),O=_(z,"DIV",{class:!0});var be=g(O);I=_(be,"BUTTON",{class:!0,"data-svelte-h":!0}),J(I)!=="svelte-1bgap3i"&&(I.textContent=K),be.forEach(d),A=N(z),M=_(z,"DIV",{class:!0});var ge=g(M);U=_(ge,"BUTTON",{class:!0,"data-svelte-h":!0}),J(U)!=="svelte-hp1czf"&&(U.textContent=he),ge.forEach(d),z.forEach(d),ne.forEach(d),H.forEach(d),this.h()},h(){o(e,"type","file"),o(e,"id","jsonFileInput"),o(e,"accept",".json"),o(e,"class","hidden"),o(l,"href","/map"),o(l,"class","w-64 text-xl btn btn-ghost"),o(c,"class","btn bg-warning"),o(n,"class","flex"),o(u,"class","mr-10 btn btn-secondary"),o(b,"class","flex-none pr-4"),o(p,"class","btn bg-warning"),o(x,"class","flex-none pr-4"),o(I,"class","btn bg-primary"),o(O,"class","flex-none pr-4"),o(U,"class","btn bg-error"),o(M,"class","flex-none pr-4"),o($,"class","flex"),o(r,"class","justify-between flex-1"),o(t,"class","pb-3 navbar")},m(D,H){B(D,e,H),a[6](e),B(D,s,H),B(D,t,H),i(t,r),i(r,n),i(n,l),Z(f,l,null),i(l,v),i(n,h),i(n,c),i(r,E),i(r,$),i($,b),i(b,u),i($,C),i($,x),i(x,p),i($,T),i($,O),i(O,I),i($,A),i($,M),i(M,U),re=!0,ce||(me=[R(e,"change",a[3]),R(c,"click",a[7]),R(u,"click",a[4]),R(p,"click",a[8]),R(I,"click",a[2]),R(U,"click",a[5])],ce=!0)},p:L,i(D){re||(V(f.$$.fragment,D),re=!0)},o(D){S(f.$$.fragment,D),re=!1},d(D){D&&(d(e),d(s),d(t)),a[6](null),G(f),ce=!1,xe(me)}}}function ze(a,e,s){let t,r,n;F(a,ue,b=>s(9,t=b)),F(a,de,b=>s(10,r=b)),F(a,se,b=>s(1,n=b));let l;const f=()=>{const u=JSON.stringify({nodes:r,edges:t}),y=new Blob([u],{type:"application/json"}),C=URL.createObjectURL(y),x=document.createElement("a");x.href=C,x.download="data.json",document.body.appendChild(x),x.click(),setTimeout(()=>{document.body.removeChild(x),window.URL.revokeObjectURL(C)},0)},v=async b=>{const u=b.currentTarget;if(console.log(u),u.files){const y=u.files[0],C=new FileReader;C.onload=function(x){var p;try{const k=JSON.parse((p=x.target)==null?void 0:p.result);P(de,r=k.nodes,r),P(ue,t=k.edges,t),fe.save()}catch(k){console.error("Error parsing JSON:",k)}},C.onerror=()=>{console.error("File read error:",C.error)},C.readAsText(y)}},h=async()=>{try{const u=await(await fetch("/roadmaps/llm-A7-linear-tree-5.json")).json();console.log(u),(u.nodes||u.edges)&&(P(de,r=u.nodes,r),P(ue,t=u.edges,t),fe.save())}catch(b){console.error("Error:",b)}},c=()=>{fe.resetMap()};function w(b){Ie[b?"unshift":"push"](()=>{l=b,s(0,l)})}return[l,n,f,v,h,c,w,()=>{P(se,n="viewer",n),ye("/viewer")},()=>l.click()]}let Fe=class extends Q{constructor(e){super(),W(this,e,ze,Le,q,{})}};function Pe(a){let e,s,t,r,n,l,f,v,h="Switch to editor",c,w,E,$,b;return n=new Te({}),{c(){e=m("div"),s=m("div"),t=m("div"),r=m("a"),X(n.$$.fragment),l=ae("Roadmap Viewer"),f=j(),v=m("button"),v.textContent=h,c=j(),w=m("div"),this.h()},l(u){e=_(u,"DIV",{class:!0});var y=g(e);s=_(y,"DIV",{class:!0});var C=g(s);t=_(C,"DIV",{class:!0});var x=g(t);r=_(x,"A",{href:!0,class:!0});var p=g(r);Y(n.$$.fragment,p),l=oe(p,"Roadmap Viewer"),p.forEach(d),f=N(x),v=_(x,"BUTTON",{class:!0,"data-svelte-h":!0}),J(v)!=="svelte-1ci7jh3"&&(v.textContent=h),x.forEach(d),c=N(C),w=_(C,"DIV",{class:!0}),g(w).forEach(d),C.forEach(d),y.forEach(d),this.h()},h(){o(r,"href","/map"),o(r,"class","w-64 text-xl btn btn-ghost"),o(v,"class","btn bg-warning"),o(t,"class","flex"),o(w,"class","flex"),o(s,"class","justify-between flex-1"),o(e,"class","pb-3 navbar")},m(u,y){B(u,e,y),i(e,s),i(s,t),i(t,r),Z(n,r,null),i(r,l),i(t,f),i(t,v),i(s,c),i(s,w),E=!0,$||(b=R(v,"click",a[1]),$=!0)},p:L,i(u){E||(V(n.$$.fragment,u),E=!0)},o(u){S(n.$$.fragment,u),E=!1},d(u){u&&d(e),G(n),$=!1,b()}}}function Ae(a,e,s){let t;return F(a,se,n=>s(0,t=n)),[t,()=>{P(se,t="editor",t),ye("/editor")}]}class He extends Q{constructor(e){super(),W(this,e,Ae,Pe,q,{})}}function Je(a){let e,s;return{c(){e=ee("svg"),s=ee("path"),this.h()},l(t){e=te(t,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var r=g(e);s=te(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(s).forEach(d),r.forEach(d),this.h()},h(){o(s,"stroke-linecap","round"),o(s,"stroke-linejoin","round"),o(s,"stroke-width","2"),o(s,"d","M6 18L18 6M6 6l12 12"),o(e,"class","w-6 h-6 cursor-pointer"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor")},m(t,r){B(t,e,r),i(e,s)},p:L,i:L,o:L,d(t){t&&d(e)}}}class qe extends Q{constructor(e){super(),W(this,e,null,Je,q,{})}}function ke(a){let e,s,t=a[0].data.content+"";return{c(){e=m("div"),s=new De(!1),this.h()},l(r){e=_(r,"DIV",{});var n=g(e);s=je(n,!1),n.forEach(d),this.h()},h(){s.a=null},m(r,n){B(r,e,n),s.m(t,e)},p(r,n){n&1&&t!==(t=r[0].data.content+"")&&s.p(t)},d(r){r&&d(e)}}}function Qe(a){let e,s,t,r,n,l,f,v,h,c,w,E,$,b,u,y,C,x;$=new qe({});let p=a[0]&&ke(a);return{c(){e=m("div"),s=m("div"),t=m("div"),r=m("button"),n=ae("Completed"),f=j(),v=m("button"),h=ae("In Progress"),w=j(),E=m("button"),X($.$$.fragment),b=j(),u=m("div"),p&&p.c(),this.h()},l(k){e=_(k,"DIV",{class:!0});var T=g(e);s=_(T,"DIV",{class:!0});var O=g(s);t=_(O,"DIV",{});var I=g(t);r=_(I,"BUTTON",{class:!0});var K=g(r);n=oe(K,"Completed"),K.forEach(d),f=N(I),v=_(I,"BUTTON",{class:!0});var A=g(v);h=oe(A,"In Progress"),A.forEach(d),I.forEach(d),w=N(O),E=_(O,"BUTTON",{});var M=g(E);Y($.$$.fragment,M),M.forEach(d),O.forEach(d),b=N(T),u=_(T,"DIV",{class:!0});var U=g(u);p&&p.l(U),U.forEach(d),T.forEach(d),this.h()},h(){o(r,"class",l="px-4 py-2 mr-2 rounded "+(a[0]&&a[0].data.status=="completed"?"text-base-100 bg-success":"bg-base-300")),o(v,"class",c="px-4 py-2 mr-2 rounded "+(a[0]&&a[0].data.status=="inProgress"?"bg-warning":"bg-base-300")),o(s,"class","flex items-center justify-between p-4 border-b"),o(u,"class","pt-4"),o(e,"class","fixed top-0 right-0 z-50 w-1/3 h-full p-3 bg-white shadow-xl")},m(k,T){B(k,e,T),i(e,s),i(s,t),i(t,r),i(r,n),i(t,f),i(t,v),i(v,h),i(s,w),i(s,E),Z($,E,null),i(e,b),i(e,u),p&&p.m(u,null),y=!0,C||(x=[R(r,"click",a[3]),R(v,"click",a[4]),R(E,"click",a[1])],C=!0)},p(k,[T]){(!y||T&1&&l!==(l="px-4 py-2 mr-2 rounded "+(k[0]&&k[0].data.status=="completed"?"text-base-100 bg-success":"bg-base-300")))&&o(r,"class",l),(!y||T&1&&c!==(c="px-4 py-2 mr-2 rounded "+(k[0]&&k[0].data.status=="inProgress"?"bg-warning":"bg-base-300")))&&o(v,"class",c),k[0]?p?p.p(k,T):(p=ke(k),p.c(),p.m(u,null)):p&&(p.d(1),p=null)},i(k){y||(V($.$$.fragment,k),y=!0)},o(k){S($.$$.fragment,k),y=!1},d(k){k&&d(e),G($),p&&p.d(),C=!1,xe(x)}}}function We(a,e,s){let t,r;F(a,pe,h=>s(5,t=h)),F(a,Be,h=>s(0,r=h));const n=()=>{P(pe,t=!1,t)},l=h=>{};return[r,n,l,()=>l(),()=>l()]}class Xe extends Q{constructor(e){super(),W(this,e,We,Qe,q,{})}}function Ye(a){let e,s,t,r;e=new He({});let n=a[1]==!0&&we();return{c(){X(e.$$.fragment),s=j(),n&&n.c(),t=$e()},l(l){Y(e.$$.fragment,l),s=N(l),n&&n.l(l),t=$e()},m(l,f){Z(e,l,f),B(l,s,f),n&&n.m(l,f),B(l,t,f),r=!0},p(l,f){l[1]==!0?n?f&2&&V(n,1):(n=we(),n.c(),V(n,1),n.m(t.parentNode,t)):n&&(Ce(),S(n,1,1,()=>{n=null}),Ee())},i(l){r||(V(e.$$.fragment,l),V(n),r=!0)},o(l){S(e.$$.fragment,l),S(n),r=!1},d(l){l&&(d(s),d(t)),G(e,l),n&&n.d(l)}}}function Ze(a){let e,s;return e=new Fe({}),{c(){X(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){Z(e,t,r),s=!0},p:L,i(t){s||(V(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){G(e,t)}}}function we(a){let e,s;return e=new Xe({}),{c(){X(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){Z(e,t,r),s=!0},i(t){s||(V(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){G(e,t)}}}function Ge(a){let e,s,t,r;const n=[Ze,Ye],l=[];function f(c,w){return c[0]=="editor"?0:1}e=f(a),s=l[e]=n[e](a);const v=a[3].default,h=Ne(v,a,a[2],null);return{c(){s.c(),t=j(),h&&h.c()},l(c){s.l(c),t=N(c),h&&h.l(c)},m(c,w){l[e].m(c,w),B(c,t,w),h&&h.m(c,w),r=!0},p(c,[w]){let E=e;e=f(c),e===E?l[e].p(c,w):(Ce(),S(l[E],1,1,()=>{l[E]=null}),Ee(),s=l[e],s?s.p(c,w):(s=l[e]=n[e](c),s.c()),V(s,1),s.m(t.parentNode,t)),h&&h.p&&(!r||w&4)&&Ve(h,v,c,c[2],r?Ue(v,c[2],w,null):Oe(c[2]),null)},i(c){r||(V(s),V(h,c),r=!0)},o(c){S(s),S(h,c),r=!1},d(c){c&&d(t),l[e].d(c),h&&h.d(c)}}}function Ke(a,e,s){let t,r;F(a,se,f=>s(0,t=f)),F(a,pe,f=>s(1,r=f));let{$$slots:n={},$$scope:l}=e;return a.$$set=f=>{"$$scope"in f&&s(2,l=f.$$scope)},[t,r,l,n]}class at extends Q{constructor(e){super(),W(this,e,Ke,Ge,q,{})}}export{at as component,nt as universal};
